{
  "Create Controller (ndc)": {
    "prefix": "ndc",
    "body": [
      "export const createData = async (req, res, next) => {",
      "  const { value1, value2, value3 } = req?.body ?? {};",
      "",
      "  try {",
      "    if (!value1 || !value2 || !value3) {",
      "      return res?.status(400).json({",
      "        success: false,",
      "        message: 'All fields (value1, value2, value3) are required'",
      "      });",
      "    }",
      "",
      "    const exists = await ${1:Your_ModelName}?.findOne({ value1 });",
      "    if (exists) {",
      "      return res?.status(400).json({",
      "        success: false,",
      "        message: 'User/data already exists'",
      "      });",
      "    }",
      "",
      "    const newData = await ${1:Your_ModelName}?.create({ value1, value2, value3 });",
      "",
      "    return res?.status(201).json({",
      "      success: true,",
      "      message: 'Data created successfully',",
      "      data: newData",
      "    });",
      "",
      "  } catch (error) {",
      "    console.error('Create Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};"
    ],
    "description": "Create Controller Structure"
  },
  "Get Controller (ndg)": {
    "prefix": "ndg",
    "body": [
      "export const getData = async (req, res, next) => {",
      "  try {",
      "    const data = await ${1:Your_ModelName}?.find();",
      "",
      "    if (!data || data.length === 0) {",
      "      return res?.status(404).json({",
      "        success: false,",
      "        message: 'No data found'",
      "      });",
      "    }",
      "",
      "    return res?.status(200).json({",
      "      success: true,",
      "      message: 'Data fetched successfully',",
      "      data",
      "    });",
      "",
      "  } catch (error) {",
      "    console.error('Get Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};"
    ],
    "description": "Get Controller Structure"
  },
  "Update Controller (ndu)": {
    "prefix": "ndu",
    "body": [
      "export const updateData = async (req, res, next) => {",
      "  const { value1, value2, value3 } = req?.body ?? {};",
      "",
      "  try {",
      "    const item = await ${1:Your_ModelName}?.findById(req?.params?.id);",
      "",
      "    if (!item) {",
      "      return res?.status(404).json({",
      "        success: false,",
      "        message: 'User/data not found'",
      "      });",
      "    }",
      "",
      "    const updatedData = await ${1:Your_ModelName}?.findByIdAndUpdate(",
      "      req?.params?.id,",
      "      {",
      "        value1: value1 ?? item.value1,",
      "        value2: value2 ?? item.value2,",
      "        value3: value3 ?? item.value3",
      "      },",
      "      { new: true }",
      "    );",
      "",
      "    return res?.status(200).json({",
      "      success: true,",
      "      message: 'Data updated successfully',",
      "      data: updatedData",
      "    });",
      "",
      "  } catch (error) {",
      "    console.error('Update Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};"
    ],
    "description": "Update Controller Structure"
  },
  "Delete Controller (ndd)": {
    "prefix": "ndd",
    "body": [
      "export const deleteData = async (req, res, next) => {",
      "  try {",
      "    const item = await ${1:Your_ModelName}?.findById(req?.params?.id);",
      "",
      "    if (!item) {",
      "      return res?.status(404).json({",
      "        success: false,",
      "        message: 'User/data not found'",
      "      });",
      "    }",
      "",
      "    res?.clearCookie('token');",
      "     await ${1:Your_ModelName}?.findByIdAndDelete(req?.params?.id);     ",
      "",
      "    return res?.status(200).json({",
      "      success: true,",
      "      message: 'Data deleted successfully'",
      "    });",
      "",
      "  } catch (error) {",
      "    console.error('Delete Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};"
    ],
    "description": "Delete Controller Structure"
  },
  "Model Snippet (ndm)": {
    "prefix": "ndm",
    "body": [
      "import mongoose from 'mongoose';",
      "",
      "const ${1:ModelName}Schema = new mongoose.Schema({",
      "  value1: { type: String, required: true },",
      "  value2: { type: String, required: true },",
      "  value3: { type: String, required: true }",
      "});",
      "",
      "export default mongoose.model('${1:ModelName}', ${1:ModelName}Schema);"
    ],
    "description": "Mongoose Model Structure"
  },
  "All CRUD Controllers (ndcurd)": {
    "prefix": "ndcurd",
    "body": [
      "// Create Controller",
      "export const createData = async (req, res, next) => {",
      "  const { value1, value2, value3 } = req?.body ?? {};",
      "",
      "  try {",
      "    if (!value1 || !value2 || !value3) {",
      "      return res?.status(400).json({",
      "        success: false,",
      "        message: 'All fields (value1, value2, value3) are required'",
      "      });",
      "    }",
      "",
      "    const exists = await ${1:Your_ModelName}?.findOne({ value1 });",
      "    if (exists) {",
      "      return res?.status(400).json({",
      "        success: false,",
      "        message: 'User/data already exists'",
      "      });",
      "    }",
      "",
      "    const newData = await ${1:Your_ModelName}?.create({ value1, value2, value3 });",
      "",
      "    return res?.status(201).json({",
      "      success: true,",
      "      message: 'Data created successfully',",
      "      data: newData",
      "    });",
      "",
      "  } catch (error) {",
      "    console.error('Create Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};",
      "",
      "// Get Controller",
      "export const getData = async (req, res, next) => {",
      "  try {",
      "    const data = await ${1:Your_ModelName}?.find();",
      "",
      "    if (!data || data.length === 0) {",
      "      return res?.status(404).json({",
      "        success: false,",
      "        message: 'No data found'",
      "      });",
      "    }",
      "",
      "    return res?.status(200).json({",
      "      success: true,",
      "      message: 'Data fetched successfully',",
      "      data",
      "    });",
      "",
      "  } catch (error) {",
      "    console.error('Get Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};",
      "",
      "// Update Controller",
      "export const updateData = async (req, res, next) => {",
      "  const { value1, value2, value3 } = req?.body ?? {};",
      "",
      "  try {",
      "    const item = await ${1:Your_ModelName}?.findById(req?.params?.id);",
      "",
      "    if (!item) {",
      "      return res?.status(404).json({",
      "        success: false,",
      "        message: 'User/data not found'",
      "      });",
      "    }",
      "",
      "    const updatedData = await ${1:Your_ModelName}?.findByIdAndUpdate(",
      "      req?.params?.id,",
      "      {",
      "        value1: value1 ?? item.value1,",
      "        value2: value2 ?? item.value2,",
      "        value3: value3 ?? item.value3",
      "      },",
      "      { new: true }",
      "    );",
      "",
      "    return res?.status(200).json({",
      "      success: true,",
      "      message: 'Data updated successfully',",
      "      data: updatedData",
      "    });",
      "",
      "  } catch (error) {",
      "    console.error('Update Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};",
      "",
      "// Delete Controller",
      "export const deleteData = async (req, res, next) => {",
      "  try {",
      "    const item = await ${1:Your_ModelName}?.findById(req?.params?.id);",
      "",
      "    if (!item) {",
      "      return res?.status(404).json({",
      "        success: false,",
      "        message: 'User/data not found'",
      "      });",
      "    }",
      "",
      "    res?.clearCookie('token');",
      "     await ${1:Your_ModelName}?.findByIdAndDelete(req?.params?.id);     ",
      "",
      "    return res?.status(200).json({",
      "      success: true,",
      "      message: 'Data deleted successfully'",
      "    });",
      "",
      "  } catch (error) {",
      "    console.error('Delete Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};"
    ],
    "description": "Insert all CRUD controllers at once"
  },
  "Register User (ndcu)": {
    "prefix": "ndcu",
    "body": [
      "export const registerUser = async (req, res, next) => {",
      "  const { username, email, password } = req?.body ?? {};",
      "  // add more fields as needed (e.g., role, image)",
      "",
      "  try {",
      "    if (!username || !email || !password) {",
      "      return res?.status(400).json({",
      "        success: false,",
      "        message: 'All fields are required (username, email, password)'",
      "      });",
      "    }",
      "",
      "    const exists = await ${1:UserModel}?.findOne({ email });",
      "    if (exists) {",
      "      return res?.status(400).json({",
      "        success: false,",
      "        message: 'User already exists with this email'",
      "      });",
      "    }",
      "",
      "    // Optional: hash password before saving",
      "    // const hashed = await bcrypt.hash(password, 10);",
      "",
      "    const newUser = await ${1:UserModel}?.create({",
      "      username,",
      "      email,",
      "      password",
      "      // password: hashed",
      "    });",
      "",
      "    // Optional: generate JWT/token here",
      "    // const token = jwt.sign({ _id: newUser?._id }, process.env.JWT_SECRET, { expiresIn: '1h' });",
      "",
      "    return res?.status(201).json({",
      "      success: true,",
      "      message: 'User registered successfully',",
      "      data: newUser",
      "      // token",
      "    });",
      "  } catch (error) {",
      "    console.error('Register Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};"
    ],
    "description": "Register user controller"
  },
  "Login User (ndcul)": {
    "prefix": "ndcul",
    "body": [
      "export const loginUser = async (req, res, next) => {",
      "  const { email, password } = req?.body ?? {};",
      "",
      "  try {",
      "    if (!email || !password) {",
      "      return res?.status(400).json({",
      "        success: false,",
      "        message: 'Email and password are required'",
      "      });",
      "    }",
      "",
      "    const user = await ${1:UserModel}?.findOne({ email }).select('+password');",
      "    if (!user) {",
      "      return res?.status(404).json({",
      "        success: false,",
      "        message: 'User not found with this email'",
      "      });",
      "    }",
      "",
      "    // Optional: use user.comparePassword or bcrypt.compare",
      "    const isMatch = await bcrypt.compare(password, user?.password);",
      "    if (!isMatch) {",
      "      return res?.status(401).json({",
      "        success: false,",
      "        message: 'Invalid credentials'",
      "      });",
      "    }",
      "",
      "    // Optional: generate JWT/token here",
      "    // const token = jwt.sign({ _id: user?._id }, process.env.JWT_SECRET, { expiresIn: '1h' });",
      "",
      "    return res?.status(200).json({",
      "      success: true,",
      "      message: 'Login successful',",
      "      data: user",
      "      // token",
      "    });",
      "  } catch (error) {",
      "    console.error('Login Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};"
    ],
    "description": "Login user controller"
  },
  "Get Profile (ndcug)": {
    "prefix": "ndcug",
    "body": [
      "export const getProfile = async (req, res, next) => {",
      "  try {",
      "    const userId = req?.user?._id;",
      "    const user = await ${1:UserModel}?.findById(userId);",
      "",
      "    if (!user) {",
      "      return res?.status(404).json({",
      "        success: false,",
      "        message: 'User not found'",
      "      });",
      "    }",
      "",
      "    return res?.status(200).json({",
      "      success: true,",
      "      message: 'Profile fetched successfully',",
      "      data: user",
      "    });",
      "  } catch (error) {",
      "    console.error('Get Profile Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};"
    ],
    "description": "Get profile controller"
  },
  "Update Profile (ndcuu)": {
    "prefix": "ndcuu",
    "body": [
      "export const updateProfile = async (req, res, next) => {",
      "  const { username, email } = req?.body ?? {};",
      "",
      "  try {",
      "    const userId = req?.user?._id;",
      "    const user = await ${1:UserModel}?.findById(userId);",
      "",
      "    if (!user) {",
      "      return res?.status(404).json({",
      "        success: false,",
      "        message: 'User not found'",
      "      });",
      "    }",
      "",
      "    const newUser = await ${1:UserModel}?.findByIdAndUpdate(",
      "      userId,",
      "      { username, email },",
      "      { new: true }",
      "    );",
      "",
      "    return res?.status(200).json({",
      "      success: true,",
      "      message: 'Profile updated successfully',",
      "      data: newUser",
      "    });",
      "  } catch (error) {",
      "    console.error('Update Profile Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};"
    ],
    "description": "Update profile controller"
  },
  "Logout User (ndco)": {
    "prefix": "ndco",
    "body": [
      "export const logoutUser = async (req, res, next) => {",
      "  try {",
      "    const userId = req?.user?._id;",
      "    const user = await ${1:UserModel}?.findById(userId);",
      "",
      "    if (!user) {",
      "      return res?.status(404).json({",
      "        success: false,",
      "        message: 'User not found'",
      "      });",
      "    }",
      "",
      "    res?.clearCookie('token');",
      "",
      "    return res?.status(200).json({",
      "      success: true,",
      "      message: 'Logged out successfully'",
      "    });",
      "  } catch (error) {",
      "    console.error('Logout Error:', error);",
      "    return res?.status(500).json({",
      "      success: false,",
      "      message: 'Internal server error'",
      "    });",
      "  }",
      "};"
    ],
    "description": "Logout user controller"
  },
  "User Model with Hooks (ndcum)": {
    "prefix": "ndcum",
    "body": [
      "import mongoose from 'mongoose';",
      "import bcrypt from 'bcryptjs';",
      "import jwt from 'jsonwebtoken';",
      "",
      "const UserSchema = new mongoose.Schema({",
      "  username: { type: String, required: true },",
      "  email: { type: String, required: true, unique: true },",
      "  password: { type: String, required: true, select: false }",
      "});",
      "",
      "// Hash password before save",
      "UserSchema?.pre('save', async function (next) {",
      "  if (!this.isModified('password')) return next();",
      "  this.password = await bcrypt?.hash(this?.password, 10);",
      "  next();",
      "});",
      "",
      "// Compare password",
      "UserSchema?.methods?.comparePassword = async function (enteredPassword) {",
      "  return await bcrypt.compare(enteredPassword, this.password);",
      "};",
      "",
      "// Create JWT token",
      "UserSchema?.methods?.createJWTToken = function () {",
      "  return jwt?.sign({ _id: this?._id }, process.env?.JWT_KEY, {",
      "    expiresIn: process.env?.JWT_EXPIRE || '10d'",
      "  });",
      "};",
      "",
      "export default mongoose.model('User', UserSchema);"
    ],
    "description": "User model with bcrypt hashing and JWT helper"
  },
  "Auth Middleware (ndauth)": {
    "prefix": "ndauth",
    "body": [
      "const jwt = require('jsonwebtoken');",
      "const UserModel = require('../models/userModel');",
      "",
      "const isAutherenticatedUser = async (req, res, next) => {",
      "  const authHeader = req?.headers['authorization'];",
      "  const token = req?.cookies?.token || (authHeader && authHeader.split(' ')[1]);",
      "",
      "  if (!token) {",
      "    return res?.status(401).json({",
      "      success: false,",
      "      message: 'Token is required'",
      "    });",
      "  }",
      "",
      "  try {",
      "    const decoded = jwt?.verify(token, process.env?.JWT_KEY);",
      "    const user = await UserModel?.findById(decoded?._id).select('-password');",
      "",
      "    if (!user) {",
      "      return res?.status(401).json({",
      "        success: false,",
      "        message: 'User not found'",
      "      });",
      "    }",
      "",
      "    req.user = user;",
      "    next();",
      "  } catch (error) {",
      "    console.error('Authentication error:', error);",
      "    return res?.status(401).json({",
      "      success: false,",
      "      message: 'Invalid token.'",
      "    });",
      "  }",
      "};",
      "",
      "module.exports = { isAutherenticatedUser };"
    ],
    "description": "JWT auth middleware"
  },
  "MongoDB Connect (nddb)": {
    "prefix": "nddb",
    "body": [
      "const mongoose = require('mongoose');",
      "",
      "// Database Connection Function",
      "const connectDB = async () => {",
      "  try {",
      "    const mongoURI = process.env?.MONGO_URL || 'mongodb://localhost:27017/your_database_name';",
      "",
      "    if (!mongoURI) {",
      "      console.error('MONGO_URL is missing in environment variables');",
      "      return;",
      "    }",
      "",
      "    const connection = await mongoose.connect(mongoURI);",
      "",
      "    console.log(`MongoDB Connected Successfully | Host: ${connection.connection.host}`);",
      "  } catch (error) {",
      "    console.error('MongoDB Connection Failed');",
      "    console.error(`Error: ${error.message}`);",
      "  }",
      "};",
      "",
      "module.exports = connectDB;"
    ],
    "description": "MongoDB connection helper using mongoose"
  },
  "Express CRUD Routes (ndroute)": {
    "prefix": "ndroute",
    "body": [
      "const express = require('express');",
      "const { isAutherenticatedUser } = require('../../middleware/isAutherenticatedUser');",
      "const { getData, createData, updateData, deleteData } = require('../../controllers/commonController');",
      "",
      "const productRoute = express.Router();",
      "",
      "productRoute.get('/get', getData);",
      "productRoute.post('/create', isAutherenticatedUser, createData);",
      "productRoute.put('/update/:id', isAutherenticatedUser, updateData);",
      "productRoute.delete('/delete/:id', isAutherenticatedUser, deleteData);",
      "",
      "module.exports = productRoute;"
    ],
    "description": "Express router with CRUD endpoints and auth middleware"
  }
}

